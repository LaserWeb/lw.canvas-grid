{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///lw.canvas-grid.js","webpack:///webpack/bootstrap d840695736817cbcde87","webpack:///./canvas-grid.js","webpack:///../~/lw.canvas-filters/dist/lw.canvas-filters.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","CanvasGrid","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_lw","_lw2","settings","cellSize","scaleRatio","filters","assign","size","width","height","cols","rows","file","image","url","src","canvas","pixels","input","File","loadFromFile","Image","loadFromImage","URL","loadFromURL","trim","Promise","reject","Error","resolve","_this","onload","event","then","result","_processImage","catch","onerror","_this2","_loadImage","createObjectURL","_this3","_this4","Math","ceil","line","context","x","y","sw","sh","sx","sy","document","createElement","getContext","fillStyle","fillRect","drawImage","push","_this5","forEach","e","a","o","t","n","r","exp","log","indexOf","s","max","min","parseInt","smoothing","brightness","contrast","gamma","grayscale","shadesOfGray","imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","getImageData","data","d","l","h","g","u","putImageData","canvasFilters"],"mappings":"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","file":"lw.canvas-grid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"CanvasGrid\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CanvasGrid\"] = factory();\n\telse\n\t\troot[\"CanvasGrid\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"CanvasGrid\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CanvasGrid\"] = factory();\n\telse\n\t\troot[\"CanvasGrid\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.CanvasGrid = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lw = __webpack_require__(2);\n\t\n\tvar _lw2 = _interopRequireDefault(_lw);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// CanvasGrid class\n\tvar CanvasGrid = function () {\n\t    // Class constructor...\n\t    function CanvasGrid(settings) {\n\t        _classCallCheck(this, CanvasGrid);\n\t\n\t        // Init properties\n\t        this.cellSize = 1024;\n\t        this.scaleRatio = 1;\n\t        this.filters = {};\n\t\n\t        Object.assign(this, settings || {});\n\t\n\t        this.size = { width: 0, height: 0, cols: 0, rows: 0 };\n\t        this.file = null;\n\t        this.image = null;\n\t        this.url = null;\n\t        this.src = null;\n\t        this.canvas = [];\n\t        this.pixels = [];\n\t    }\n\t\n\t    // <input> can be Image, File URL object or URL string (http://* or data:image/*)\n\t\n\t\n\t    _createClass(CanvasGrid, [{\n\t        key: 'load',\n\t        value: function load(input) {\n\t            // Load File object\n\t            if (input instanceof File) {\n\t                return this.loadFromFile(input);\n\t            }\n\t\n\t            // Load Image object\n\t            if (input instanceof Image) {\n\t                return this.loadFromImage(input);\n\t            }\n\t\n\t            // Load URL object\n\t            if (typeof input === 'string' || input instanceof URL) {\n\t                return this.loadFromURL(input.trim());\n\t            }\n\t\n\t            // Return rejected promise with an Error object\n\t            return Promise.reject(new Error('Unsupported input format.'));\n\t        }\n\t\n\t        // Load image\n\t\n\t    }, {\n\t        key: '_loadImage',\n\t        value: function _loadImage(src, reject, resolve) {\n\t            var _this = this;\n\t\n\t            // Create Image object\n\t            var image = new Image();\n\t\n\t            // Register for load and error events\n\t            image.onload = function (event) {\n\t                _this.loadFromImage(image).then(function (result) {\n\t                    _this._processImage();\n\t                    _this.src = src;\n\t                    resolve(result);\n\t                }).catch(reject);\n\t            };\n\t\n\t            image.onerror = function (event) {\n\t                reject(new Error('Error reading file : ' + src));\n\t            };\n\t\n\t            // Load the image from File url\n\t            image.src = src;\n\t        }\n\t\n\t        // Load from File object\n\t\n\t    }, {\n\t        key: 'loadFromFile',\n\t        value: function loadFromFile(input) {\n\t            var _this2 = this;\n\t\n\t            return new Promise(function (resolve, reject) {\n\t                // Bad input type\n\t                if (!(input instanceof File)) {\n\t                    reject(new Error('Input param must be a File object.'));\n\t                }\n\t\n\t                // Set input file\n\t                _this2.file = input;\n\t\n\t                // Load image\n\t                _this2._loadImage(URL.createObjectURL(input), reject, resolve);\n\t            });\n\t        }\n\t\n\t        // Load from URL object or string\n\t\n\t    }, {\n\t        key: 'loadFromURL',\n\t        value: function loadFromURL(input) {\n\t            var _this3 = this;\n\t\n\t            return new Promise(function (resolve, reject) {\n\t                // Bad input type\n\t                if (!(input instanceof URL) && typeof input !== 'string') {\n\t                    reject(new Error('Input param must be a URL string or object.'));\n\t                }\n\t\n\t                // Create url object\n\t                var url = input instanceof URL ? input : new URL(input);\n\t\n\t                // Set url\n\t                _this3.url = url;\n\t\n\t                // Load image\n\t                _this3._loadImage(url, reject, resolve);\n\t            });\n\t        }\n\t\n\t        // Load from Image object\n\t\n\t    }, {\n\t        key: 'loadFromImage',\n\t        value: function loadFromImage(input) {\n\t            var _this4 = this;\n\t\n\t            return new Promise(function (resolve, reject) {\n\t                // Bad input type\n\t                if (!(input instanceof Image)) {\n\t                    reject(new Error('Input param must be a Image object.'));\n\t                }\n\t\n\t                // Set input image\n\t                _this4.image = input;\n\t\n\t                resolve(_this4);\n\t            });\n\t        }\n\t    }, {\n\t        key: '_processImage',\n\t        value: function _processImage() {\n\t            // Reset canvas grid\n\t            this.canvas = [];\n\t            this.pixels = [];\n\t\n\t            // Calculate grid size\n\t            var width = this.image.width * this.scaleRatio;\n\t            var height = this.image.height * this.scaleRatio;\n\t            var cols = Math.ceil(width / this.cellSize);\n\t            var rows = Math.ceil(height / this.cellSize);\n\t\n\t            this.size = { width: width, height: height, cols: cols, rows: rows };\n\t\n\t            // Create canvas grid\n\t            var line = null;\n\t            var canvas = null;\n\t            var context = null;\n\t\n\t            var x = null;\n\t            var y = null;\n\t            var sw = null;\n\t            var sh = null;\n\t            var sx = null;\n\t            var sy = null;\n\t\n\t            // For each line\n\t            for (y = 0; y < this.size.rows; y++) {\n\t                // Reset current line\n\t                line = [];\n\t\n\t                // For each column\n\t                for (x = 0; x < this.size.cols; x++) {\n\t                    // Create canvas element\n\t                    canvas = document.createElement('canvas');\n\t\n\t                    // Set canvas size\n\t                    if (x === 0 || x < this.size.cols - 1) {\n\t                        canvas.width = this.size.width < this.cellSize ? this.size.width : this.cellSize;\n\t                    } else {\n\t                        // Get the rest for the last item (except the first one)\n\t                        canvas.width = this.size.width % this.cellSize;\n\t                    }\n\t\n\t                    if (y === 0 || y < this.size.rows - 1) {\n\t                        canvas.height = this.size.height < this.cellSize ? this.size.height : this.cellSize;\n\t                    } else {\n\t                        // Get the rest for the last item (except the first one)\n\t                        canvas.height = this.size.height % this.cellSize;\n\t                    }\n\t\n\t                    // Get canvas 2d context\n\t                    context = canvas.getContext('2d');\n\t\n\t                    // Fill withe background (avoid alpha chanel calculation)\n\t                    context.fillStyle = 'white';\n\t                    context.fillRect(0, 0, canvas.width, canvas.height);\n\t\n\t                    // Draw the part of image in the canvas (scale)\n\t                    sw = canvas.width / this.scaleRatio;\n\t                    sh = canvas.height / this.scaleRatio;\n\t                    sx = x * this.cellSize / this.scaleRatio;\n\t                    sy = y * this.cellSize / this.scaleRatio;\n\t\n\t                    context.drawImage(this.image, sx, sy, sw, sh, 0, 0, canvas.width, canvas.height);\n\t\n\t                    // Apply image filters\n\t                    (0, _lw2.default)(canvas, this.filters);\n\t\n\t                    // Add the canvas to current line\n\t                    line.push(canvas);\n\t                }\n\t\n\t                // Add the line to canvas grid\n\t                this.canvas.push(line);\n\t            }\n\t        }\n\t\n\t        // Apply filters\n\t\n\t    }, {\n\t        key: 'applyFilters',\n\t        value: function applyFilters(filters) {\n\t            var _this5 = this;\n\t\n\t            Object.assign(this.filters, filters || {});\n\t            this.canvas.forEach(function (canvas) {\n\t                return (0, _lw2.default)(canvas, _this5.filters);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return CanvasGrid;\n\t}();\n\t\n\t// Exports\n\t\n\t\n\texports.CanvasGrid = CanvasGrid;\n\texports.default = CanvasGrid;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(e,a){ true?module.exports=a():\"function\"==typeof define&&define.amd?define(\"CanvasFilter\",[],a):\"object\"==typeof exports?exports.CanvasFilter=a():e.CanvasFilter=a()}(this,function(){return function(e){function a(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var t={};return a.m=e,a.c=t,a.p=\"\",a(0)}([function(e,a,t){e.exports=t(1)},function(e,a){\"use strict\";function t(e){return e<0?0:e>255?255:e}function o(e,a,o){void 0!==o&&(e[a]=t(e[a]+o),e[a+1]=t(e[a+1]+o),e[a+2]=t(e[a+2]+o))}function n(e,a,o){void 0!==o&&(e[a]=t(o*(e[a]-128)+128),e[a+1]=t(o*(e[a+1]-128)+128),e[a+2]=t(o*(e[a+2]-128)+128))}function r(e,a,o){void 0!==o&&(e[a]=t(Math.exp(Math.log(255*(e[a]/255))*o)),e[a+1]=t(Math.exp(Math.log(255*(e[a+1]/255))*o)),e[a+2]=t(Math.exp(Math.log(255*(e[a+2]/255))*o)))}function i(e,a,o,n){if(c.indexOf(o)===-1)throw new Error(\"Unsupported grayscale algorithm: \"+o);if(\"none\"===o)return null;var r=void 0,i=e[a],s=e[a+1],m=e[a+2];switch(o){case\"average\":r=(i+s+m)/3;break;case\"luma\":r=.3*i+.59*s+.11*m;break;case\"luma-601\":r=.299*i+.587*s+.114*m;break;case\"luma-709\":r=.2126*i+.7152*s+.0722*m;break;case\"luma-240\":r=.212*i+.701*s+.087*m;break;case\"desaturation\":r=(Math.max(i,s,m)+Math.min(i,s,m))/2;break;case\"decomposition-min\":r=Math.min(i,s,m);break;case\"decomposition-max\":r=Math.max(i,s,m);break;case\"red-chanel\":r=i;break;case\"green-chanel\":r=s;break;case\"blue-chanel\":r=m}void 0!==n&&(r=parseInt(r/n)*n),r=parseInt(r),e[a]=t(r),e[a+1]=t(r),e[a+2]=t(r)}function s(e,a){a=Object.assign({},{smoothing:!1,brightness:0,contrast:0,gamma:0,grayscale:\"none\",shadesOfGray:256},a||{});var t=e.getContext(\"2d\");void 0!==t.imageSmoothingEnabled?t.imageSmoothingEnabled=a.smoothing:(t.mozImageSmoothingEnabled=a.smoothing,t.webkitImageSmoothingEnabled=a.smoothing,t.msImageSmoothingEnabled=a.smoothing,t.oImageSmoothingEnabled=a.smoothing);var s=t.getImageData(0,0,e.width,e.height),c=s.data,m=void 0,d=void 0,l=void 0,h=void 0;0!==a.contrast&&(m=259*(a.contrast+255)/(255*(259-a.contrast))),0!==a.brightness&&(d=a.brightness),0!==a.gamma&&(l=1/a.gamma),a.shadesOfGray>1&&a.shadesOfGray<256&&(h=255/(a.shadesOfGray-1));for(var g=0,u=c.length;g<u;g+=4)o(c,g,d),n(c,g,m),r(c,g,l),i(c,g,a.grayscale,h);t.putImageData(s,0,0)}Object.defineProperty(a,\"__esModule\",{value:!0});var c=[\"average\",\"desaturation\",\"decomposition\",\"luma\",\"luma-601\",\"luma-709\",\"luma-240\",\"red-chanel\",\"green-chanel\",\"blue-chanel\",\"none\"];a.canvasFilters=s,a.default=s}])});\n\t//# sourceMappingURL=lw.canvas-filters.js.map\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// lw.canvas-grid.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d840695736817cbcde87","import canvasFilters from 'lw.canvas-filters'\n\n// CanvasGrid class\nclass CanvasGrid {\n    // Class constructor...\n    constructor(settings) {\n        // Init properties\n        this.cellSize   = 1024\n        this.scaleRatio = 1\n        this.filters    = {}\n\n        Object.assign(this, settings || {})\n\n        this.size   = { width: 0, height: 0, cols: 0, rows: 0 }\n        this.file   = null\n        this.image  = null\n        this.url    = null\n        this.src    = null\n        this.canvas = []\n        this.pixels = []\n    }\n\n    // <input> can be Image, File URL object or URL string (http://* or data:image/*)\n    load(input) {\n        // Load File object\n        if (input instanceof File) {\n            return this.loadFromFile(input)\n        }\n\n        // Load Image object\n        if (input instanceof Image) {\n            return this.loadFromImage(input)\n        }\n\n        // Load URL object\n        if (typeof input === 'string' || input instanceof URL) {\n            return this.loadFromURL(input.trim())\n        }\n\n        // Return rejected promise with an Error object\n        return Promise.reject(new Error('Unsupported input format.'))\n    }\n\n    // Load image\n    _loadImage(src, reject, resolve) {\n        // Create Image object\n        let image = new Image()\n\n        // Register for load and error events\n        image.onload = event => {\n            this.loadFromImage(image).then(result => {\n                this._processImage()\n                this.src = src\n                resolve(result)\n            }).catch(reject)\n        }\n\n        image.onerror = event => {\n            reject(new Error('Error reading file : ' + src))\n        }\n\n        // Load the image from File url\n        image.src = src\n    }\n\n    // Load from File object\n    loadFromFile(input) {\n        return new Promise((resolve, reject) => {\n            // Bad input type\n            if (! (input instanceof File)) {\n                reject(new Error('Input param must be a File object.'))\n            }\n\n            // Set input file\n            this.file = input\n\n            // Load image\n            this._loadImage(URL.createObjectURL(input), reject, resolve)\n        })\n    }\n\n    // Load from URL object or string\n    loadFromURL(input) {\n        return new Promise((resolve, reject) => {\n            // Bad input type\n            if (! (input instanceof URL) && typeof input !== 'string') {\n                reject(new Error('Input param must be a URL string or object.'))\n            }\n\n            // Create url object\n            let url = input instanceof URL ? input : new URL(input)\n\n            // Set url\n            this.url = url\n\n            // Load image\n            this._loadImage(url, reject, resolve)\n        })\n    }\n\n    // Load from Image object\n    loadFromImage(input) {\n        return new Promise((resolve, reject) => {\n            // Bad input type\n            if (! (input instanceof Image)) {\n                reject(new Error('Input param must be a Image object.'))\n            }\n\n            // Set input image\n            this.image = input\n\n            resolve(this)\n        })\n    }\n\n    _processImage() {\n        // Reset canvas grid\n        this.canvas = []\n        this.pixels = []\n\n        // Calculate grid size\n        let width  = this.image.width * this.scaleRatio\n        let height = this.image.height * this.scaleRatio\n        let cols   = Math.ceil(width / this.cellSize)\n        let rows   = Math.ceil(height / this.cellSize)\n\n        this.size = { width, height, cols, rows }\n\n        // Create canvas grid\n        let line    = null\n        let canvas  = null\n        let context = null\n\n        let x  = null\n        let y  = null\n        let sw = null\n        let sh = null\n        let sx = null\n        let sy = null\n\n        // For each line\n        for (y = 0; y < this.size.rows; y++) {\n            // Reset current line\n            line = []\n\n            // For each column\n            for (x = 0; x < this.size.cols; x++) {\n                // Create canvas element\n                canvas = document.createElement('canvas')\n\n                // Set canvas size\n                if (x === 0 || x < (this.size.cols - 1)) {\n                    canvas.width = this.size.width < this.cellSize\n                                 ? this.size.width : this.cellSize\n                }\n                else {\n                    // Get the rest for the last item (except the first one)\n                    canvas.width = this.size.width % this.cellSize\n                }\n\n                if (y === 0 || y < (this.size.rows - 1)) {\n                    canvas.height = this.size.height < this.cellSize\n                                  ? this.size.height : this.cellSize\n                }\n                else {\n                    // Get the rest for the last item (except the first one)\n                    canvas.height = this.size.height % this.cellSize\n                }\n\n                // Get canvas 2d context\n                context = canvas.getContext('2d')\n\n                // Fill withe background (avoid alpha chanel calculation)\n                context.fillStyle = 'white'\n                context.fillRect(0, 0, canvas.width, canvas.height)\n\n                // Draw the part of image in the canvas (scale)\n                sw = canvas.width / this.scaleRatio\n                sh = canvas.height / this.scaleRatio\n                sx = x * this.cellSize / this.scaleRatio\n                sy = y * this.cellSize / this.scaleRatio\n\n                context.drawImage(\n                    this.image, sx, sy, sw, sh,\n                    0, 0, canvas.width, canvas.height\n                )\n\n                // Apply image filters\n                canvasFilters(canvas, this.filters)\n\n                // Add the canvas to current line\n                line.push(canvas)\n            }\n\n            // Add the line to canvas grid\n            this.canvas.push(line)\n        }\n    }\n\n    // Apply filters\n    applyFilters(filters) {\n        Object.assign(this.filters, filters || {})\n        this.canvas.forEach(canvas => canvasFilters(canvas, this.filters))\n    }\n}\n\n// Exports\nexport { CanvasGrid }\nexport default CanvasGrid\n\n\n\n// WEBPACK FOOTER //\n// ./canvas-grid.js","!function(e,a){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=a():\"function\"==typeof define&&define.amd?define(\"CanvasFilter\",[],a):\"object\"==typeof exports?exports.CanvasFilter=a():e.CanvasFilter=a()}(this,function(){return function(e){function a(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var t={};return a.m=e,a.c=t,a.p=\"\",a(0)}([function(e,a,t){e.exports=t(1)},function(e,a){\"use strict\";function t(e){return e<0?0:e>255?255:e}function o(e,a,o){void 0!==o&&(e[a]=t(e[a]+o),e[a+1]=t(e[a+1]+o),e[a+2]=t(e[a+2]+o))}function n(e,a,o){void 0!==o&&(e[a]=t(o*(e[a]-128)+128),e[a+1]=t(o*(e[a+1]-128)+128),e[a+2]=t(o*(e[a+2]-128)+128))}function r(e,a,o){void 0!==o&&(e[a]=t(Math.exp(Math.log(255*(e[a]/255))*o)),e[a+1]=t(Math.exp(Math.log(255*(e[a+1]/255))*o)),e[a+2]=t(Math.exp(Math.log(255*(e[a+2]/255))*o)))}function i(e,a,o,n){if(c.indexOf(o)===-1)throw new Error(\"Unsupported grayscale algorithm: \"+o);if(\"none\"===o)return null;var r=void 0,i=e[a],s=e[a+1],m=e[a+2];switch(o){case\"average\":r=(i+s+m)/3;break;case\"luma\":r=.3*i+.59*s+.11*m;break;case\"luma-601\":r=.299*i+.587*s+.114*m;break;case\"luma-709\":r=.2126*i+.7152*s+.0722*m;break;case\"luma-240\":r=.212*i+.701*s+.087*m;break;case\"desaturation\":r=(Math.max(i,s,m)+Math.min(i,s,m))/2;break;case\"decomposition-min\":r=Math.min(i,s,m);break;case\"decomposition-max\":r=Math.max(i,s,m);break;case\"red-chanel\":r=i;break;case\"green-chanel\":r=s;break;case\"blue-chanel\":r=m}void 0!==n&&(r=parseInt(r/n)*n),r=parseInt(r),e[a]=t(r),e[a+1]=t(r),e[a+2]=t(r)}function s(e,a){a=Object.assign({},{smoothing:!1,brightness:0,contrast:0,gamma:0,grayscale:\"none\",shadesOfGray:256},a||{});var t=e.getContext(\"2d\");void 0!==t.imageSmoothingEnabled?t.imageSmoothingEnabled=a.smoothing:(t.mozImageSmoothingEnabled=a.smoothing,t.webkitImageSmoothingEnabled=a.smoothing,t.msImageSmoothingEnabled=a.smoothing,t.oImageSmoothingEnabled=a.smoothing);var s=t.getImageData(0,0,e.width,e.height),c=s.data,m=void 0,d=void 0,l=void 0,h=void 0;0!==a.contrast&&(m=259*(a.contrast+255)/(255*(259-a.contrast))),0!==a.brightness&&(d=a.brightness),0!==a.gamma&&(l=1/a.gamma),a.shadesOfGray>1&&a.shadesOfGray<256&&(h=255/(a.shadesOfGray-1));for(var g=0,u=c.length;g<u;g+=4)o(c,g,d),n(c,g,m),r(c,g,l),i(c,g,a.grayscale,h);t.putImageData(s,0,0)}Object.defineProperty(a,\"__esModule\",{value:!0});var c=[\"average\",\"desaturation\",\"decomposition\",\"luma\",\"luma-601\",\"luma-709\",\"luma-240\",\"red-chanel\",\"green-chanel\",\"blue-chanel\",\"none\"];a.canvasFilters=s,a.default=s}])});\n//# sourceMappingURL=lw.canvas-filters.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lw.canvas-filters/dist/lw.canvas-filters.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}